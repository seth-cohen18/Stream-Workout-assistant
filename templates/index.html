<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stream-AI Workout Assistant</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/dark-mode.css">
    <link rel="icon" href="/static/img/logo.png" type="image/png">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
        <div class="container">
            <a class="navbar-brand" href="/">
                <img src="/static/img/logo.png" alt="Stream-AI Workout Assistant" width="40" height="40" class="me-2">
                Stream-AI Workout Assistant
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h2 class="mb-0">Find Healthy Recipes</h2>
                </div>
                <div class="card-body">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="recipe-search-form">
                                <ul class="nav nav-tabs mb-3" id="recipeSearchTabs" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="ingredients-tab" data-bs-toggle="tab" data-bs-target="#ingredients-panel" type="button" role="tab">
                                            Search by Ingredients
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="meal-tab" data-bs-toggle="tab" data-bs-target="#meal-panel" type="button" role="tab">
                                            Search by Meal
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="preferences-tab" data-bs-toggle="tab" data-bs-target="#preferences-panel" type="button" role="tab">
                                            Dietary Preferences
                                        </button>
                                    </li>
                                </ul>
                                
                                <div class="tab-content" id="recipeSearchTabContent">
                                    <!-- Ingredients Panel -->
                                    <div class="tab-pane fade show active" id="ingredients-panel" role="tabpanel">
                                        <div class="mb-3">
                                            <label for="ingredients-input" class="form-label">Enter ingredients you have:</label>
                                            <div class="input-group">
                                                <input type="text" id="ingredients-input" class="form-control" placeholder="e.g., chicken, broccoli, rice">
                                                <button id="add-ingredient-btn" class="btn btn-primary">Add</button>
                                            </div>
                                            <small class="form-text text-muted">Enter one ingredient at a time or comma-separated list</small>
                                        </div>
                                        
                                        <div id="ingredients-list" class="mb-3">
                                            <!-- Ingredients tags will appear here -->
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label class="form-label">Search for recipes that use:</label>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="searchType" id="search-all" value="all" checked>
                                                <label class="form-check-label" for="search-all">
                                                    All my ingredients
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="searchType" id="search-any" value="any">
                                                <label class="form-check-label" for="search-any">
                                                    Any of my ingredients
                                                </label>
                                            </div>
                                        </div>
                                        
                                        <button id="find-recipes-btn" class="btn btn-success" disabled>
                                            <i class="fas fa-search"></i> Find Recipes
                                        </button>
                                    </div>
                                    
                                    <!-- Meal Panel -->
                                    <div class="tab-pane fade" id="meal-panel" role="tabpanel">
                                        <div class="mb-3">
                                            <label for="meal-search-input" class="form-label">Search for a recipe:</label>
                                            <div class="input-group">
                                                <input type="text" id="meal-search-input" class="form-control" placeholder="e.g., lasagna, stir fry, smoothie">
                                                <button id="search-meal-btn" class="btn btn-primary">
                                                    <i class="fas fa-search"></i> Search
                                                </button>
                                            </div>
                                            <small class="form-text text-muted">Enter a dish or meal you'd like to make</small>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label class="form-label">Search by category:</label>
                                            <select id="category-select" class="form-select">
                                                <option value="" selected>All Categories</option>
                                                <option value="Beef">Beef</option>
                                                <option value="Chicken">Chicken</option>
                                                <option value="Dessert">Dessert</option>
                                                <option value="Lamb">Lamb</option>
                                                <option value="Pasta">Pasta</option>
                                                <option value="Pork">Pork</option>
                                                <option value="Seafood">Seafood</option>
                                                <option value="Side">Side Dish</option>
                                                <option value="Vegetarian">Vegetarian</option>
                                                <option value="Breakfast">Breakfast</option>
                                                <option value="Vegan">Vegan</option>
                                            </select>
                                        </div>
                                        
                                        <button id="search-category-btn" class="btn btn-success">
                                            <i class="fas fa-filter"></i> Browse Category
                                        </button>
                                    </div>
                                    
                                    <!-- Dietary Preferences Panel -->
                                    <div class="tab-pane fade" id="preferences-panel" role="tabpanel">
                                        <div class="mb-3">
                                            <label class="form-label">Dietary Restrictions:</label>
                                            <div class="form-check">
                                                <input class="form-check-input diet-restriction" type="checkbox" id="vegetarian-check">
                                                <label class="form-check-label" for="vegetarian-check">Vegetarian</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input diet-restriction" type="checkbox" id="vegan-check">
                                                <label class="form-check-label" for="vegan-check">Vegan</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input diet-restriction" type="checkbox" id="gluten-free-check">
                                                <label class="form-check-label" for="gluten-free-check">Gluten Free</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input diet-restriction" type="checkbox" id="dairy-free-check">
                                                <label class="form-check-label" for="dairy-free-check">Dairy Free</label>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label for="allergies-input" class="form-label">Food Allergies:</label>
                                            <div class="input-group">
                                                <input type="text" id="allergies-input" class="form-control" placeholder="e.g., peanuts, shellfish, eggs">
                                                <button id="add-allergy-btn" class="btn btn-primary">Add</button>
                                            </div>
                                            <small class="form-text text-muted">Enter items you're allergic to or want to avoid</small>
                                        </div>
                                        
                                        <div id="allergies-list" class="mb-3">
                                            <!-- Allergy tags will appear here -->
                                        </div>
                                        
                                        <button id="save-preferences-btn" class="btn btn-success">
                                            <i class="fas fa-save"></i> Save Preferences
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="nutrition-tips">
                                <h4>Nutrition Tips</h4>
                                <div class="card shadow-sm mb-3">
                                    <div class="card-body">
                                        <h5 class="card-title">Post-Workout Nutrition</h5>
                                        <p>Consume protein within 30 minutes after your workout to maximize muscle recovery. Aim for 20-30g of protein along with some carbohydrates.</p>
                                    </div>
                                </div>
                                <div class="card shadow-sm">
                                    <div class="card-body">
                                        <h5 class="card-title">Hydration Reminder</h5>
                                        <p>Drink at least 16-20 ounces of water for every hour of exercise. Proper hydration improves performance and recovery.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="recipe-results" class="mt-4 d-none">
                        <h3>Recipe Results</h3>
                        <div id="results-message" class="alert alert-info d-none"></div>
                        <div id="recipe-cards" class="row"></div>
                    </div>
                    
                    <div id="recipe-detail" class="mt-4 d-none">
                        <button id="back-to-results" class="btn btn-secondary mb-3">
                            <i class="fas fa-arrow-left"></i> Back to Results
                        </button>
                        <div class="row">
                            <div class="col-md-4">
                                <img id="recipe-image" src="" alt="Recipe" class="img-fluid rounded shadow">
                            </div>
                            <div class="col-md-8">
                                <h3 id="recipe-title"></h3>
                                <div class="mb-2">
                                    <span id="recipe-category" class="badge bg-primary me-2"></span>
                                    <span id="recipe-area" class="badge bg-secondary me-2"></span>
                                    <span id="recipe-tags" class=""></span>
                                </div>
                                
                                <h5 class="mt-3">Ingredients</h5>
                                <ul id="recipe-ingredients" class="list-group shadow-sm"></ul>
                                
                                <h5 class="mt-3">Instructions</h5>
                                <div id="recipe-instructions" class="p-3 bg-light rounded shadow-sm"></div>
                                
                                <div class="mt-3">
                                    <a id="recipe-source" href="#" target="_blank" class="btn btn-outline-primary me-2">
                                        <i class="fas fa-external-link-alt"></i> View Original Recipe
                                    </a>
                                    <a id="recipe-youtube" href="#" target="_blank" class="btn btn-outline-danger">
                                        <i class="fab fa-youtube"></i> Watch Video
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3 mb-md-0">
                    <h5>Stream-AI Workout Assistant</h5>
                    <p class="text-muted">Your personal AI-powered fitness companion for better workouts and healthier meals.</p>
                </div>
                <div class="col-md-4 mb-3 mb-md-0">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#home-section" class="text-decoration-none text-muted">Home</a></li>
                        <li><a href="#workout-section" class="text-decoration-none text-muted">Workout</a></li>
                        <li><a href="#progress-section" class="text-decoration-none text-muted">Progress</a></li>
                        <li><a href="#nutrition-section" class="text-decoration-none text-muted">Nutrition</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Contact</h5>
                    <p class="text-muted">Have questions or feedback? Reach out to us!</p>
                    <p class="text-muted"><i class="fas fa-envelope me-2"></i>contact@stream-ai.com</p>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p class="mb-0">&copy; 2023 Stream-AI Workout Assistant. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Modal for camera permission -->
    <div class="modal fade" id="cameraPermissionModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Camera Access Required</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>To track your workout, we need access to your camera. Please allow camera access when prompted.</p>
                    <p>Your video is processed locally and not stored unless you choose to save it.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Understood</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/navigation.js"></script>
    <script src="/static/js/workout.js"></script>
    <script src="/static/js/nutrition.js"></script>
    <script src="/static/js/progress.js"></script>
    <script src="/static/js/theme-switcher.js"></script>
</body>
</html>="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#home-section" id="home-nav">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#workout-section" id="workout-nav">Workout</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#progress-section" id="progress-nav">Progress</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#nutrition-section" id="nutrition-nav">Nutrition</a>
                    </li>
                </ul>
                <div class="ms-auto d-flex align-items-center">
                    <!-- Dark Mode Toggle -->
                    <div class="theme-switch-wrapper">
                        <label class="theme-switch" for="checkbox">
                            <input type="checkbox" id="checkbox" />
                            <div class="slider">
                                <i class="fas fa-sun slider-icons sun"></i>
                                <i class="fas fa-moon slider-icons moon"></i>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="container py-4">
        <!-- Home Section -->
        <section id="home-section" class="mb-5 section-content">
            <div class="row align-items-center py-5">
                <div class="col-md-12 text-center mb-4">
                    <h1 class="display-4 fw-bold">Your AI-Powered Workout Partner</h1>
                    <p class="lead mb-4">Get real-time form correction, track your progress, compete with others, and discover healthy recipes tailored to your preferences.</p>
                    <a href="#workout-section" class="btn btn-primary btn-lg" id="start-training-btn">Start Training</a>
                </div>
            </div>
            
            <div class="row mt-5">
                <div class="col-md-6 mb-4">
                    <div class="card shadow h-100">
                        <div class="card-body">
                            <h3 class="card-title"><i class="fas fa-video me-2"></i>Introduction Video</h3>
                            <p class="card-text">Watch our introduction video to learn about all features of Stream-AI Workout Assistant.</p>
                            <a href="https://www.youtube.com" target="_blank" class="btn btn-outline-primary">Watch Video</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card shadow h-100">
                        <div class="card-body">
                            <h3 class="card-title"><i class="fas fa-bullseye me-2"></i>How It Works</h3>
                            <p class="card-text">Stream-AI uses advanced pose detection technology to analyze your movements in real-time and provide feedback on your form.</p>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-check-circle text-success me-2"></i>Real-time form feedback</li>
                                <li><i class="fas fa-check-circle text-success me-2"></i>Progress tracking with visual charts</li>
                                <li><i class="fas fa-check-circle text-success me-2"></i>Personalized workout recommendations</li>
                                <li><i class="fas fa-check-circle text-success me-2"></i>Healthy recipe suggestions</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="row mt-4">
                <div class="col-md-4 mb-4">
                    <div class="card shadow h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-dumbbell fa-3x mb-3 text-primary"></i>
                            <h4>Track Multiple Exercises</h4>
                            <p>Squats, push-ups, bicep curls, shoulder press, and lunges with perfect form.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card shadow h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-chart-line fa-3x mb-3 text-primary"></i>
                            <h4>Monitor Your Progress</h4>
                            <p>See your improvements over time with detailed charts and analytics.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card shadow h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-utensils fa-3x mb-3 text-primary"></i>
                            <h4>Discover Healthy Recipes</h4>
                            <p>Find recipes that match your available ingredients and dietary preferences.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Instructions Section -->
        <section id="instructions-section" class="mb-5 section-content d-none">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h2 class="mb-0">Exercise Instructions</h2>
                </div>
                <div class="card-body">
                    <h3 id="instruction-title">General Instructions</h3>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h4>Camera Setup</h4>
                                    <ul>
                                        <li>Position your camera at chest height</li>
                                        <li>Ensure good lighting in the room</li>
                                        <li>Make sure your full body is visible</li>
                                        <li>Wear contrasting clothes to your background</li>
                                        <li>Remove clutter from your background</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h4>Before You Start</h4>
                                    <ul>
                                        <li>Clear enough space around you</li>
                                        <li>Warm up properly before exercising</li>
                                        <li>Have water nearby</li>
                                        <li>Select the exercise you want to perform</li>
                                        <li>Follow the specific exercise instructions</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="exercise-specific-instructions">
                        <!-- Squat Instructions -->
                        <div class="exercise-instruction" data-exercise="Squats">
                            <div class="row mt-4">
                                <div class="col-md-7">
                                    <h4>Squat Form Instructions</h4>
                                    <p>Squats target your quadriceps, hamstrings, and glutes. Proper form is essential to prevent knee injuries.</p>
                                    <h5>Camera Positioning:</h5>
                                    <ul>
                                        <li>Position the camera to your side for a full profile view</li>
                                        <li>Ensure your entire body from head to feet is visible</li>
                                        <li>Stand 6-8 feet away from the camera</li>
                                    </ul>
                                    <h5>Proper Form:</h5>
                                    <ul>
                                        <li>Stand with feet shoulder-width apart</li>
                                        <li>Keep chest up and back straight</li>
                                        <li>Lower until thighs are parallel to the ground</li>
                                        <li>Keep knees tracking over toes (not caving inward)</li>
                                        <li>Push through heels to return to starting position</li>
                                    </ul>
                                </div>
                                <div class="col-md-5">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <img src="/static/img/squat-position.png" class="img-fluid rounded" alt="Squat position diagram">
                                            <p class="mt-2"><strong>Side view is best for detecting squat depth and back angle</strong></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Push-Up Instructions -->
                        <div class="exercise-instruction" data-exercise="Push-Ups">
                            <div class="row mt-4">
                                <div class="col-md-7">
                                    <h4>Push-Up Form Instructions</h4>
                                    <p>Push-ups target your chest, shoulders, and triceps. Proper form helps prevent wrist and shoulder strain.</p>
                                    <h5>Camera Positioning:</h5>
                                    <ul>
                                        <li>Position the camera to your side for a full profile view</li>
                                        <li>Ensure your entire body from head to feet is visible</li>
                                        <li>Place camera about 5-6 feet away</li>
                                    </ul>
                                    <h5>Proper Form:</h5>
                                    <ul>
                                        <li>Start in plank position with hands slightly wider than shoulder-width</li>
                                        <li>Keep body in straight line from head to heels</li>
                                        <li>Lower chest to ground by bending elbows</li>
                                        <li>Keep elbows at about 45° angle to your body</li>
                                        <li>Push back up to starting position</li>
                                    </ul>
                                </div>
                                <div class="col-md-5">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <img src="/static/img/pushup-position.png" class="img-fluid rounded" alt="Push-up position diagram">
                                            <p class="mt-2"><strong>Side view is best for detecting body alignment and depth</strong></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Bicep Curl Instructions -->
                        <div class="exercise-instruction" data-exercise="Bicep Curls">
                            <div class="row mt-4">
                                <div class="col-md-7">
                                    <h4>Bicep Curl Form Instructions</h4>
                                    <p>Bicep curls target your biceps and forearms. Proper form helps maximize muscle engagement and prevent elbow strain.</p>
                                    <h5>Camera Positioning:</h5>
                                    <ul>
                                        <li>Position the camera directly in front of you</li>
                                        <li>Ensure your upper body is fully visible</li>
                                        <li>Stand 4-6 feet away from the camera</li>
                                    </ul>
                                    <h5>Proper Form:</h5>
                                    <ul>
                                        <li>Stand with feet shoulder-width apart</li>
                                        <li>Keep elbows close to your sides</li>
                                        <li>Curl weights up toward shoulders</li>
                                        <li>Maintain controlled movement throughout</li>
                                        <li>Lower weights back to starting position</li>
                                    </ul>
                                </div>
                                <div class="col-md-5">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <img src="/static/img/bicep-position.png" class="img-fluid rounded" alt="Bicep curl position diagram">
                                            <p class="mt-2"><strong>Front view is best for detecting elbow position and symmetry</strong></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Shoulder Press Instructions -->
                        <div class="exercise-instruction" data-exercise="Shoulder Press">
                            <div class="row mt-4">
                                <div class="col-md-7">
                                    <h4>Shoulder Press Form Instructions</h4>
                                    <p>Shoulder presses target your deltoids, triceps, and upper chest. Proper form helps prevent shoulder injuries.</p>
                                    <h5>Camera Positioning:</h5>
                                    <ul>
                                        <li>Position the camera directly in front of you</li>
                                        <li>Ensure your entire upper body is visible</li>
                                        <li>Stand 4-6 feet away from the camera</li>
                                    </ul>
                                    <h5>Proper Form:</h5>
                                    <ul>
                                        <li>Stand with feet shoulder-width apart</li>
                                        <li>Hold weights at shoulder height</li>
                                        <li>Press weights overhead until arms are fully extended</li>
                                        <li>Keep core engaged to prevent back arching</li>
                                        <li>Lower weights back to shoulder height</li>
                                    </ul>
                                </div>
                                <div class="col-md-5">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <img src="/static/img/shoulder-position.png" class="img-fluid rounded" alt="Shoulder press position diagram">
                                            <p class="mt-2"><strong>Front view is best for detecting arm position and shoulder alignment</strong></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Lunges Instructions -->
                        <div class="exercise-instruction" data-exercise="Lunges">
                            <div class="row mt-4">
                                <div class="col-md-7">
                                    <h4>Lunge Form Instructions</h4>
                                    <p>Lunges target your quadriceps, hamstrings, glutes, and calves. Proper form helps prevent knee stress.</p>
                                    <h5>Camera Positioning:</h5>
                                    <ul>
                                        <li>Position the camera to your side for a full profile view</li>
                                        <li>Ensure your entire body from head to feet is visible</li>
                                        <li>Stand 6-8 feet away from the camera</li>
                                    </ul>
                                    <h5>Proper Form:</h5>
                                    <ul>
                                        <li>Stand with feet hip-width apart</li>
                                        <li>Step forward with one leg into a lunge position</li>
                                        <li>Lower until both knees form 90-degree angles</li>
                                        <li>Keep front knee aligned over ankle (not beyond toes)</li>
                                        <li>Push through front heel to return to starting position</li>
                                        <li>Alternate legs for each repetition</li>
                                    </ul>
                                </div>
                                <div class="col-md-5">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <img src="/static/img/lunge-position.png" class="img-fluid rounded" alt="Lunge position diagram">
                                            <p class="mt-2"><strong>Side view is best for detecting knee angles and torso position</strong></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center mt-4">
                        <button id="continue-to-workout" class="btn btn-success btn-lg">Continue to Workout</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Workout Section -->
        <section id="workout-section" class="mb-5 section-content d-none">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h2 class="mb-0">Live Workout</h2>
                </div>
                <div class="card-body">
                    <div class="row mb-3" id="exercise-selector">
                        <div class="col-md-6">
                            <label for="exercise-select" class="form-label">Choose Exercise:</label>
                            <select id="exercise-select" class="form-select">
                                <option value="" selected disabled>Select an exercise</option>
                                {% for exercise in exercise_options %}
                                <option value="{{ exercise }}">{{ exercise }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-6 d-flex align-items-end">
                            <button id="start-btn" class="btn btn-success me-2">
                                <i class="fas fa-play"></i> Start Exercise
                            </button>
                            <button id="end-btn" class="btn btn-danger" disabled>
                                <i class="fas fa-stop"></i> End Exercise
                            </button>
                        </div>
                    </div>

                    <div class="workout-container">
                        <div class="row">
                            <div class="col-md-9">
                                <div class="video-container">
                                    <div id="camera-container" class="ratio ratio-16x9 border border-secondary rounded shadow-sm">
                                        <video id="camera-feed" autoplay muted></video>
                                        <img id="processed-feed" class="processed-feed d-none" alt="Processed feed">
                                        <div id="waiting-message" class="overlay-message">
                                            <p>Click "Start Exercise" to begin</p>
                                        </div>
                                        <div id="loading-spinner" class="overlay-message d-none">
                                            <div class="spinner-border text-primary" role="status">
                                                <span class="visually-hidden">Loading...</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Workout control buttons -->
                                    <div id="workout-controls" class="mt-3 text-center d-none">
                                        <button id="discard-workout-btn" class="btn btn-outline-danger me-3">
                                            <i class="fas fa-trash"></i> Discard Workout
                                        </button>
                                        <button id="save-workout-btn" class="btn btn-primary">
                                            <i class="fas fa-save"></i> Save Workout
                                        </button>
                                    </div>
                                    
                                    <!-- New workout options -->
                                    <div id="new-workout-options" class="mt-3 text-center d-none">
                                        <button id="new-set-btn" class="btn btn-outline-primary me-3">
                                            <i class="fas fa-redo"></i> New Set
                                        </button>
                                        <button id="new-exercise-btn" class="btn btn-success">
                                            <i class="fas fa-dumbbell"></i> New Exercise
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="stats-container h-100 p-3 border rounded shadow-sm">
                                    <h4 class="text-center mb-3">Stats</h4>
                                    <div class="mb-3">
                                        <div class="d-flex justify-content-between">
                                            <span>Exercise:</span>
                                            <span id="current-exercise">-</span>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <div class="d-flex justify-content-between">
                                            <span>Reps:</span>
                                            <span id="rep-counter">0</span>
                                        </div>
                                        <div class="progress mt-2">
                                            <div id="rep-progress" class="progress-bar" role="progressbar" style="width: 0%"></div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <div class="d-flex justify-content-between">
                                            <span>Duration:</span>
                                            <span id="session-duration">00:00</span>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <div class="d-flex justify-content-between">
                                            <span>Last Feedback:</span>
                                        </div>
                                        <div id="last-feedback" class="feedback-box mt-2">
                                            No feedback yet
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="session-summary" class="mt-4 d-none">
                        <h3>Workout Summary</h3>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card shadow-sm">
                                    <div class="card-body">
                                        <h5 class="card-title">Session Stats</h5>
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item d-flex justify-content-between">
                                                <span>Total Reps:</span>
                                                <span id="summary-reps">0</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between">
                                                <span>Average Rep Time:</span>
                                                <span id="summary-avg-time">0s</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between">
                                                <span>Total Duration:</span>
                                                <span id="summary-duration">00:00</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card shadow-sm">
                                    <div class="card-body">
                                        <h5 class="card-title">Feedback Summary</h5>
                                        <ul id="feedback-list" class="list-group list-group-flush">
                                            <li class="list-group-item text-muted">No feedback recorded</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Progress Section -->
        <section id="progress-section" class="mb-5 section-content d-none">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h2 class="mb-0">Progress Tracking</h2>
                </div>
                <div class="card-body">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="card shadow-sm h-100">
                                <div class="card-body">
                                    <h5 class="card-title">Exercise Stats</h5>
                                    <div class="mb-3">
                                        <label for="progress-exercise-select" class="form-label">Select Exercise:</label>
                                        <select id="progress-exercise-select" class="form-select">
                                            {% for exercise in exercise_options %}
                                            <option value="{{ exercise }}">{{ exercise }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div id="progress-stats">
                                        <div class="mb-3">
                                            <div class="d-flex justify-content-between">
                                                <span>Best Session:</span>
                                                <span id="best-session">-</span>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <div class="d-flex justify-content-between">
                                                <span>Last Session:</span>
                                                <span id="last-session">-</span>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <div class="d-flex justify-content-between">
                                                <span>Current Level:</span>
                                                <span id="current-level">Beginner</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card shadow-sm h-100">
                                <div class="card-body">
                                    <h5 class="card-title">Ranking</h5>
                                    <div class="mb-3">
                                        <div class="d-flex justify-content-between">
                                            <span>Your Rank:</span>
                                            <span class="badge bg-success">Top 15%</span>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <h6>Leaderboard</h6>
                                        <ul class="list-group">
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <span><strong>1.</strong> JohnFit2023</span>
                                                <span class="badge bg-primary rounded-pill">230 pts</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <span><strong>2.</strong> FitnessQueen</span>
                                                <span class="badge bg-primary rounded-pill">215 pts</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center bg-light">
                                                <span><strong>3.</strong> You</span>
                                                <span class="badge bg-success rounded-pill">198 pts</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <span><strong>4.</strong> WorkoutMaster</span>
                                                <span class="badge bg-primary rounded-pill">175 pts</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-4">
                            <div class="card shadow-sm">
                                <div class="card-header">Rep Time Distribution</div>
                                <div class="card-body">
                                    <div id="rep-distribution-chart" class="chart-container">
                                        <img src="/api/progress/rep_distribution/Squats" id="dist-chart" class="img-fluid" alt="Rep Distribution Chart">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-4">
                            <div class="card shadow-sm">
                                <div class="card-header">Progress Over Time</div>
                                <div class="card-body">
                                    <div id="progress-chart" class="chart-container">
                                        <img src="/api/progress/history/Squats" id="history-chart" class="img-fluid" alt="Progress Chart">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Nutrition Section -->
        <section id="nutrition-section" class="mb-5 section-content d-none">
            <div class